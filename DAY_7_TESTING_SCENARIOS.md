# Day 7 - å…¨æµç¨‹æµ‹è¯•åœºæ™¯ï¼ˆå®Œæ•´ç«¯åˆ°ç«¯ï¼‰

## ç›®æ ‡
éªŒè¯å¾®ä¹ æƒ¯æ ¸å¿ƒæµç¨‹çš„å®Œæ•´å¯ç”¨æ€§ï¼ŒåŒ…æ‹¬æ–°ç”¨æˆ·é¦–è¿›ã€ç½‘ç»œå¼‚å¸¸ã€é‡å¤æ‰“å¡ã€Day3/7åŠ¨æ•ˆç­‰å…³é”®åœºæ™¯ã€‚

---

## åœºæ™¯ Aï¼šæ–°ç”¨æˆ·å®Œæ•´é¦–è¿›æµç¨‹ âœ…
**ç›®æ ‡**ï¼šä»æ— åˆ°æœ‰ï¼Œå®Œæ•´èµ°é€šæ–°ç”¨æˆ·ä½“éªŒ

### æ­¥éª¤
1. **æ¸…ç©ºæœ¬åœ°å­˜å‚¨** â†’ `wx.clearStorageSync()`
2. **è¿›å…¥å°ç¨‹åº** â†’ Home é¡µé¢åº”è¯¥ç©ºç™½ï¼ˆæ— ä¹ æƒ¯ï¼‰
3. **ç‚¹å‡»"å¼€å§‹å¾®ä¹ æƒ¯"** â†’ åº”è¯¥å¼¹å‡º autoStartWithTemplate æˆ–æ¨è
4. **åˆ›å»º"å–ä¸€å£æ°´"ä¹ æƒ¯** â†’ è°ƒç”¨ createHabit
   - âœ… é¢„æœŸè¿”å›ï¼š`{success: true, code: 0, data: {user_habit_id}}`
   - âœ… é¢„æœŸç›®æ ‡æ¬¡æ•°ï¼š1 æ¬¡ï¼ˆéä¼šå‘˜é™çº§ï¼‰
   - âœ… é¡µé¢è‡ªåŠ¨è·³è½¬åˆ° first-checkin
5. **é¦–å¡é¡µé¢éªŒè¯**
   - âœ… æ˜¾ç¤ºä¹ æƒ¯åç§°ã€streak=1ã€feedbackTier=regular
   - âœ… ç‚¹å‡»"å¤ªæ£’äº†"åæ’­æ”¾ç¤¼èŠ±åŠ¨ç”»ï¼ˆCanvas 2D æˆ–é™çº§æ–¹æ¡ˆï¼‰
   - âœ… è‡ªåŠ¨å…³é—­åè¿”å› Home
6. **Home é¡µéªŒè¯**
   - âœ… ä¹ æƒ¯åˆ—è¡¨æ˜¾ç¤º"å–ä¸€å£æ°´"
   - âœ… è¿›åº¦æ¡æ˜¾ç¤º 1/1 å®Œæˆï¼ˆ100%ï¼‰
   - âœ… completedCount=1, totalCount=1, progress=100
7. **è¿›å…¥ Stats é¡µ**
   - âœ… æ˜¾ç¤ºæœ¬å‘¨å®Œæˆç‡ï¼ˆ100%ï¼‰
   - âœ… æœ€å¥½çš„ä¹ æƒ¯ï¼š"å–ä¸€å£æ°´"
   - âœ… å»ºè®®æ–‡æ¡ˆï¼šå…³äºåšæŒçš„æ­£é¢æ¿€åŠ±
8. **ç‚¹å‡»ä¹ æƒ¯è¿›è¡Œç¼–è¾‘**
   - âœ… æ˜¾ç¤ºå½“å‰æ‰“å¡çŠ¶æ€
   - âœ… å¯åˆ é™¤æˆ–ä¿®æ”¹ï¼ˆå¦‚æœ‰ç¼–è¾‘åŠŸèƒ½ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] createHabit è¿”å›æ­£ç¡®æ ¼å¼ï¼ˆsuccess: trueï¼‰
- [ ] first-checkin é¡µåŠ¨æ•ˆæ­£å¸¸æ’­æ”¾
- [ ] Home æ•°æ®æ˜¾ç¤ºå®Œæ•´
- [ ] Stats æ˜¾ç¤ºç»“è®ºè€ŒéåŸå§‹æ•°æ®
- [ ] å…¨æµç¨‹æ— å´©æºƒ/ç™½å±

---

## åœºæ™¯ Bï¼šç½‘ç»œæ–­çº¿æ¢å¤ âš¡
**ç›®æ ‡**ï¼šæ¨¡æ‹Ÿç½‘ç»œä¸­æ–­æ—¶çš„å®¹é”™å¤„ç†

### æ­¥éª¤
1. **è¿›å…¥ Home é¡µé¢**ï¼ˆå·²æœ‰ä¹ æƒ¯ï¼‰
2. **å…³é—­ç½‘ç»œ**ï¼ˆå¼€å‘è€…å·¥å…· Network Throttling â†’ Offlineï¼‰
3. **ç‚¹å‡»æ‰“å¡**
   - âœ… é¢„æœŸè¡Œä¸ºï¼šä¹è§‚æ›´æ–°ï¼ˆUI ç«‹å³æ˜¾ç¤ºå·²å®Œæˆï¼‰
   - âœ… checkingInId è¢«è®¾ç½®ï¼ˆé˜²æ­¢é‡å¤ç‚¹å‡»ï¼‰
   - âœ… è®¾å¤‡æŒ¯åŠ¨åé¦ˆï¼ˆçŸ­æŒ¯ï¼‰
   - âœ… ä¸å¼¹é”™è¯¯æç¤ºï¼ˆç”¨æˆ·æ— æ„Ÿï¼‰
4. **ç«‹å³æ¢å¤ç½‘ç»œ**
   - âœ… logHabit å¼‚æ­¥è°ƒç”¨åœ¨åå°é‡è¯•
   - âœ… æ‰“å¡è®°å½•æœ€ç»ˆä¿å­˜åˆ°äº‘ç«¯
5. **è¿”å› Homeï¼Œå†è¿›å…¥ä¸€æ¬¡**
   - âœ… getTodayHabits è·å–æœ€æ–°çŠ¶æ€
   - âœ… æ‰“å¡è®°å½•åº”è¯¥åŒæ­¥åˆ°äº‘ç«¯

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ç½‘ç»œä¸­æ–­æ—¶ UI ç«‹å³å“åº”ï¼ˆä¹è§‚æ›´æ–°ï¼‰
- [ ] æ— é”™è¯¯æç¤ºå¼¹çª—
- [ ] ç½‘ç»œæ¢å¤åæ•°æ®æœ€ç»ˆä¸€è‡´
- [ ] æ—¥å¿—ä¸­å¯çœ‹åˆ° logHabit å¼‚æ­¥è°ƒç”¨

---

## åœºæ™¯ Cï¼šé‡å¤å¿«é€Ÿæ‰“å¡ ğŸš«
**ç›®æ ‡**ï¼šé˜²æ­¢æ¶æ„/è¯¯æ“ä½œå¯¼è‡´å¤šæ¬¡æ‰“å¡

### æ­¥éª¤
1. **è¿›å…¥ Home é¡µé¢**
2. **å¿«é€Ÿç‚¹å‡»åŒä¸€ä¹ æƒ¯ 3 æ¬¡**
   - âœ… ç¬¬ä¸€æ¬¡ï¼šæ­£å¸¸æ‰“å¡ï¼Œè¿›å…¥ first-checkinï¼ˆæˆ– checkingInId è¢«è®¾ï¼‰
   - âœ… ç¬¬äºŒã€ä¸‰æ¬¡ï¼šè¢« checkingInId é—¨æ§ï¼Œè°ƒç”¨è¢«é˜»æ­¢
   - âœ… æœ¬åœ°åªè®°å½• 1 æ¬¡æ‰“å¡
3. **éªŒè¯ cloud function çš„å¹‚ç­‰è®¾è®¡**
   - âœ… logHabit åº”æ£€æŸ¥"ä»Šå¤©æ˜¯å¦å·²å®Œæˆ"
   - âœ… å¦‚å·²å®Œæˆä¸”æœªè¾¾ targetTimesï¼Œè¿”å› businessError(ALREADY_DONE)
   - âœ… å¦‚å·²å®Œæˆä¸”è¾¾æˆï¼Œå…è®¸ç»§ç»­+1ï¼ˆtargetTimes > 1 çš„åœºæ™¯ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] checkingInId é—¨æ§æœ‰æ•ˆ
- [ ] å¤šæ¬¡ç‚¹å‡»åªè§¦å‘ä¸€æ¬¡äº‘å‡½æ•°è°ƒç”¨
- [ ] äº‘å‡½æ•°å†…æœ‰å¹‚ç­‰æ£€æŸ¥
- [ ] è¿”å›é”™è¯¯ç  1002ï¼ˆALREADY_DONEï¼‰è€Œéå´©æºƒ

---

## åœºæ™¯ Dï¼šDay 3 è¾¾æˆåé¦ˆ â­
**ç›®æ ‡**ï¼šéªŒè¯ç¬¬ 3 å¤©é‡Œç¨‹ç¢‘çš„ç‰¹æ®Šåé¦ˆ

### å‰ç½®æ¡ä»¶
- ä¹ æƒ¯å·²è¿ç»­æ‰“å¡ 2 å¤©
- ä»Šå¤©ï¼ˆç¬¬ 3 å¤©ï¼‰ç‚¹å‡»æ‰“å¡

### æ­¥éª¤
1. **ç‚¹å‡»æ‰“å¡**
   - âœ… logHabit è®¡ç®— streak = 3
   - âœ… calculateFeedbackTier è¿”å› feedbackTier = "day3"
   - âœ… è¿”å›å€¼ï¼š`{streak: 3, feedbackTier: "day3", ...}`
2. **è·³è½¬ first-checkin é¡µ**
   - âœ… URL å‚æ•°ï¼š`/pages/onboarding/first-checkin/first-checkin?habitId=xxx&streak=3&feedbackTier=day3`
   - âœ… feedbackCopy.day3 = {emoji: 'â­', text: 'åšæŒ3å¤©...', vibrate: 'short'}
3. **é¦–å¡é¡µéªŒè¯**
   - âœ… æ˜¾ç¤ºæ˜Ÿå½¢ emoji (â­)
   - âœ… æ˜¾ç¤º"åšæŒ3å¤©"çš„æ–‡æ¡ˆ
   - âœ… Canvas åŠ¨æ•ˆï¼šä¸‰è§’å½¢ç²’å­ï¼ˆtier-based configï¼‰
   - âœ… æŒ¯åŠ¨ï¼šçŸ­æŒ¯åé¦ˆ
4. **ç‚¹å‡»"å¤ªæ£’äº†"å**
   - âœ… åŠ¨æ•ˆæ’­æ”¾ï¼ˆè‡³å°‘ 0.8 ç§’ï¼‰
   - âœ… è‡ªåŠ¨å…³é—­ï¼Œè¿”å› Home
5. **éªŒè¯ analytics åŸ‹ç‚¹**
   - âœ… è°ƒç”¨ `analytics.firstCheckinDisplay('habitId', 'day3')`
   - âœ… è°ƒç”¨ `analytics.firstCheckinCompleted('habitId', 'day3')`

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] logHabit æ­£ç¡®è®¡ç®— streak=3
- [ ] feedbackTier è¿”å›"day3"
- [ ] first-checkin é¡µæ˜¾ç¤ºæ­£ç¡®çš„ emoji å’Œæ–‡æ¡ˆ
- [ ] Canvas åŠ¨æ•ˆæ­£å¸¸æ’­æ”¾ï¼ˆä¸‰è§’å½¢ï¼‰
- [ ] åŸ‹ç‚¹æˆåŠŸï¼ˆwx.reportAnalytics æˆ– console æ—¥å¿—ï¼‰

---

## åœºæ™¯ Eï¼šDay 7 é‡Œç¨‹ç¢‘ + ä¼šå‘˜éªŒè¯ ğŸ†
**ç›®æ ‡**ï¼šéªŒè¯ç¬¬ 7 å¤©çš„åº†ç¥åé¦ˆï¼Œä»¥åŠéä¼šå‘˜çš„åŠŸèƒ½é™åˆ¶

### å‰ç½®æ¡ä»¶
- ä¹ æƒ¯å·²è¿ç»­æ‰“å¡ 6 å¤©
- ä»Šå¤©ï¼ˆç¬¬ 7 å¤©ï¼‰ç‚¹å‡»æ‰“å¡
- ç”¨æˆ·ä¸æ˜¯ä¼šå‘˜ï¼ˆå¯ç”¨ localStorage æ¨¡æ‹Ÿï¼‰

### æ­¥éª¤
1. **ç‚¹å‡»æ‰“å¡**
   - âœ… logHabit è®¡ç®— streak = 7
   - âœ… calculateFeedbackTier è¿”å› feedbackTier = "day7"
2. **è·³è½¬ first-checkin é¡µ**
   - âœ… feedbackCopy.day7 = {emoji: 'ğŸ†', text: 'é¦–å‘¨è¾¾æˆ...', vibrate: 'pulse'}
3. **é¦–å¡é¡µéªŒè¯**
   - âœ… æ˜¾ç¤ºå¥–æ¯ emoji (ğŸ†)
   - âœ… Canvas åŠ¨æ•ˆï¼šæ˜Ÿå½¢ç²’å­ï¼ˆæ›´å¯†é›†ï¼Œtier-based configï¼‰
   - âœ… æŒ¯åŠ¨ï¼šé•¿æŒ¯åé¦ˆï¼ˆpulseï¼‰
4. **Settings é¡µé¢éªŒè¯**ï¼ˆå¯é€‰ï¼‰
   - âœ… åŠ¨æ•ˆå¼ºåº¦æ»‘å—å¯è°ƒæ•´
   - âœ… åŠ¨æ•ˆå¼€å…³èƒ½ç¦ç”¨
   - âœ… é»˜è®¤å¯ç”¨ï¼Œå¼ºåº¦ 100%
5. **éä¼šå‘˜é™åˆ¶éªŒè¯**
   - âœ… createHabit è¿”å› targetTimes = 1ï¼ˆè‡ªåŠ¨é™çº§ï¼‰
   - âœ… é¡µé¢ä¸æ˜¾ç¤º"æ— é™ä¹ æƒ¯"ç­‰ä¼šå‘˜ä¸“äº«æ–‡æ¡ˆ

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] streak=7 æ—¶ feedbackTier è¿”å›"day7"
- [ ] ğŸ† emoji å’Œ"é¦–å‘¨è¾¾æˆ"æ–‡æ¡ˆæ­£ç¡®æ˜¾ç¤º
- [ ] Canvas æ˜Ÿå½¢åŠ¨æ•ˆæ’­æ”¾ï¼ˆé«˜å¯†åº¦ï¼‰
- [ ] é•¿æŒ¯åé¦ˆç”Ÿæ•ˆ
- [ ] éä¼šå‘˜è‡ªåŠ¨é™çº§ targetTimes=1

---

## åœºæ™¯ Fï¼šæ¢å¤æµç¨‹ï¼ˆæ–­æµåé‡æ–°æ‰“å¡ï¼‰ ğŸ’ª
**ç›®æ ‡**ï¼šéªŒè¯é˜²æµå¤±æœºåˆ¶ï¼Œå½“ç”¨æˆ·é”™è¿‡ä¸€å¤©åé‡æ–°æ‰“å¡

### å‰ç½®æ¡ä»¶
- ä¹ æƒ¯è¿ç»­æ‰“å¡ 3 å¤©
- é”™è¿‡ 1 å¤©ï¼ˆlastDoneDate != ä»Šå¤© - 1ï¼‰
- ä»Šå¤©é‡æ–°æ‰“å¡

### æ­¥éª¤
1. **ç‚¹å‡»æ‰“å¡**
   - âœ… logHabit è®¡ç®— streak = 1ï¼ˆé‡æ–°å¼€å§‹ï¼‰
   - âœ… calculateFeedbackTier è¿”å› feedbackTier = "recovery"
   - âœ… è¿”å›å€¼ï¼š`{streak: 1, feedbackTier: "recovery", ...}`
2. **è·³è½¬ first-checkin é¡µ**
   - âœ… feedbackCopy.recovery = {emoji: 'ğŸ’ª', text: 'æ¬¢è¿å›æ¥...', vibrate: 'long'}
3. **é¦–å¡é¡µéªŒè¯**
   - âœ… æ˜¾ç¤ºåŠ æ²¹ emoji (ğŸ’ª)
   - âœ… é¿å…"å¤±è´¥"ã€"ä¸­æ–­"ç­‰è´Ÿé¢æ–‡æ¡ˆ
   - âœ… å¼ºè°ƒ"é‡æ–°å¼€å§‹"çš„ç§¯ææ€§
4. **Stats é¡µéªŒè¯**
   - âœ… æœ¬å‘¨å®Œæˆç‡é‡æ–°è®¡ç®—ï¼ˆåº”è¯¥é™ä½ï¼‰
   - âœ… å»ºè®®æ–‡æ¡ˆåº”æ¿€åŠ±é‡æ–°å¼€å§‹
   - âœ… improved å­—æ®µæ­£ç¡®åæ˜ è¶‹åŠ¿

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] streak ä» 3 é‡ç½®ä¸º 1ï¼ˆä¸ä¿ç•™å†å²ï¼‰
- [ ] feedbackTier è¿”å›"recovery"
- [ ] æ–‡æ¡ˆç§¯ææ­£é¢ï¼Œé¿å…è´Ÿé¢è¡¨è¿°
- [ ] Stats æ•°æ®æ­£ç¡®é‡æ–°è®¡ç®—

---

## åœºæ™¯ Gï¼šç¼“å­˜å’Œèµ„æºé¢„åŠ è½½ âš™ï¸
**ç›®æ ‡**ï¼šéªŒè¯ effects èµ„æºç¼“å­˜å’ŒåŠ¨æ•ˆæ€§èƒ½

### æ­¥éª¤
1. **è¿›å…¥ Settings é¡µé¢**
   - âœ… è°ƒç”¨ `resourceCache.initEffectsResources()` é¢„åŠ è½½èµ„æº
   - âœ… console åº”çœ‹åˆ°"èµ„æºé¢„åŠ è½½å®Œæˆ"æˆ–ç±»ä¼¼æ—¥å¿—
2. **å…³é—­ã€é‡å¼€ Settings**
   - âœ… ç¬¬äºŒæ¬¡è¿›å…¥åº”ä»ç¼“å­˜è¯»å–ï¼Œä¸é‡å¤åŠ è½½
3. **ä¿®æ”¹åŠ¨æ•ˆå¼ºåº¦**
   - âœ… slider æ»‘åŠ¨ â†’ è°ƒç”¨ `resourceCache.setEffectsIntensity(value)`
   - âœ… localStorage ä¿å­˜æ–°å€¼
   - âœ… ç¬¬äºŒæ¬¡æ‰“å¡æ—¶åº”ä½¿ç”¨æ–°å¼ºåº¦
4. **ç¦ç”¨åŠ¨æ•ˆå¼€å…³**
   - âœ… toggle â†’ `resourceCache.setEffectsEnabled(false)`
   - âœ… first-checkin é¡µåº”è·³è¿‡ Canvas ç»˜åˆ¶
   - âœ… ç”¨æˆ·å¯è§ï¼šå¿«é€Ÿå¼¹å‡ºåé¦ˆå¼¹çª—ï¼Œæ— åŠ¨ç”»å¡é¡¿

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] èµ„æºé¢„åŠ è½½æ—¥å¿—å¯è§
- [ ] localStorage ç¼“å­˜æœ‰æ•ˆ
- [ ] å¼ºåº¦è°ƒæ•´åä¸‹ä¸€æ¬¡æ‰“å¡ç”Ÿæ•ˆ
- [ ] ç¦ç”¨å¼€å…³åæ— åŠ¨æ•ˆ

---

## åœºæ™¯ Hï¼šå¤šä¹ æƒ¯åœºæ™¯ ğŸ“‹
**ç›®æ ‡**ï¼šéªŒè¯å¤šä¹ æƒ¯æ‰“å¡å’Œç»Ÿè®¡çš„æ­£ç¡®æ€§

### å‰ç½®æ¡ä»¶
- ç”¨æˆ·æœ‰ 3 ä¸ªä¹ æƒ¯ï¼šå–æ°´ï¼ˆå®Œæˆï¼‰ã€è¿åŠ¨ï¼ˆå®Œæˆï¼‰ã€å†¥æƒ³ï¼ˆæœªå®Œæˆï¼‰
- æ¯ä¸ªä¹ æƒ¯çš„ targetTimes å’Œå®Œæˆæƒ…å†µä¸åŒ

### æ­¥éª¤
1. **Home é¡µéªŒè¯**
   - âœ… getTodayHabits è¿”å›æ‰€æœ‰ 3 ä¸ªä¹ æƒ¯
   - âœ… completedCount = 2ï¼ŒtotalCount = 3ï¼Œprogress = 67%
   - âœ… æ¯ä¸ªä¹ æƒ¯æ˜¾ç¤ºè‡ªå·±çš„ streak
2. **åˆ†åˆ«æ‰“å¡ä¸¤ä¸ªä¹ æƒ¯**
   - âœ… ç¬¬ä¸€ä¸ªï¼šè¿›å…¥ first-checkinï¼Œå®Œæˆ
   - âœ… ç¬¬äºŒä¸ªï¼šè¿›å…¥ first-checkinï¼Œå®Œæˆ
   - âœ… è¿”å› Homeï¼šcompletedCount åº”è¯¥å˜ä¸º 3
3. **æ‰“å¼€æŸä¸ªä¹ æƒ¯çš„è¯¦æƒ…**
   - âœ… getHabitDetail è¿”å›è¯¥ä¹ æƒ¯çš„ streakã€æ—¥å¿—ç­‰
   - âœ… é¡µé¢æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯
4. **Stats é¡µéªŒè¯**
   - âœ… bestHabit åº”è¯¥æ˜¯å®Œæˆæ¬¡æ•°æœ€å¤šçš„é‚£ä¸ª
   - âœ… weeklyRate è®¡ç®—ï¼š(2+1)/3 + (1+2)/3 + ... çš„å¹³å‡
   - âœ… å»ºè®®æ–‡æ¡ˆæ ¹æ®æ•´ä½“å®Œæˆç‡ç”Ÿæˆ

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] getTodayHabits è¿”å›æ­£ç¡®çš„ completedCount/totalCount/progress
- [ ] æ¯ä¸ªä¹ æƒ¯ç‹¬ç«‹è®¡ç®— streak
- [ ] Stats.bestHabit æ­£ç¡®è¯†åˆ«
- [ ] å¤šä¹ æƒ¯ä¸‹çš„ weeklyRate è®¡ç®—æ­£ç¡®

---

## æµ‹è¯•æ£€æŸ¥æ¸…å•

### äº‘å‡½æ•°å±‚
- [ ] response.js æ ¼å¼ç»Ÿä¸€ï¼ˆæ‰€æœ‰äº‘å‡½æ•°è¿”å› {success/code/message/data}ï¼‰
- [ ] logHabit è¿”å› {streak, feedbackTier, doneTimesToday, targetTimes}
- [ ] getTodayHabits è¿”å› {habits, completedCount, totalCount, progress}
- [ ] getStats è¿”å› {weeklyRate, bestHabit, improved, advice, stats}
- [ ] createHabit éä¼šå‘˜å¼ºåˆ¶ targetTimes = 1
- [ ] æ‰€æœ‰äº‘å‡½æ•°éƒ½æœ‰å‚æ•°æ ¡éªŒå’Œé”™è¯¯å¤„ç†

### å‰ç«¯å±‚
- [ ] Home.handleCheckIn å®ç°ä¹è§‚æ›´æ–° + checkingInId é—¨æ§
- [ ] Home.loadTodayHabits ä¿¡ä»»åç«¯çš„ completedCount/progressï¼Œä¸å†è‡ªå·±è®¡ç®—
- [ ] first-checkin.js æ­£ç¡®è¯»å– streak/feedbackTier å‚æ•°
- [ ] feedback-modal.js çš„ Canvas 2D åŠ¨æ•ˆæ­£å¸¸æ’­æ”¾æˆ–é™çº§åˆ° CanvasContext
- [ ] settings.js çš„æ•ˆæœå¼ºåº¦æ§åˆ¶å·¥ä½œæ­£å¸¸
- [ ] stats.js æ­£ç¡®æ˜¾ç¤º weeklyRate/bestHabit/improved/advice

### ç”¨æˆ·ä½“éªŒ
- [ ] æ‰“å¡åé¦ˆå¿«é€Ÿï¼ˆ< 1s ä¹è§‚æ›´æ–°ï¼‰
- [ ] åŠ¨æ•ˆä¸å¡é¡¿ï¼ˆCanvas ä½¿ç”¨ requestAnimationFrameï¼‰
- [ ] æ–‡æ¡ˆé¿å…è´Ÿé¢ï¼ˆæ— "å¤±è´¥"ï¼Œå¼ºè°ƒ"é‡æ–°å¼€å§‹"ï¼‰
- [ ] æ–°ç”¨æˆ· 3 ç§’å¯ç†è§£äº§å“ä»·å€¼ï¼ˆé¦–å¡æ¿€åŠ± + Stats ç»“è®ºï¼‰

### åŸ‹ç‚¹å’Œåˆ†æ
- [ ] analytics.firstCheckinDisplay/firstCheckinCompleted æ­£å¸¸è°ƒç”¨
- [ ] æ‰“å¡ç›¸å…³çš„å…³é”®äº‹ä»¶æœ‰è®°å½•
- [ ] äº‘å‡½æ•°æ—¥å¿—ä¸­å¯çœ‹åˆ°å¹‚ç­‰æ£€æŸ¥ã€é”™è¯¯å¤„ç†çš„è½¨è¿¹

---

## æ‰§è¡Œæ–¹æ³•

### æœ¬åœ°æµ‹è¯•ï¼ˆå¼€å‘è€…å·¥å…·ï¼‰
```bash
# 1. æ¸…ç©ºå­˜å‚¨ï¼ˆå¼€å‘è€…å·¥å…· > å­˜å‚¨ > æ¸…é™¤æ•°æ®ï¼‰
# 2. æ‰“å¼€ Consoleï¼Œç›‘å¬æ—¥å¿—
console.log('å„äº‘å‡½æ•°è°ƒç”¨');
wx.cloud.callFunction çš„è¿”å›

# 3. åˆ†åˆ«æ‰§è¡Œåœºæ™¯ A-H
# 4. éªŒè¯æ¯ä¸ªåœºæ™¯çš„é¢„æœŸè¡Œä¸º
# 5. è®°å½•ä»»ä½•ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µ
```

### ç”Ÿäº§æµ‹è¯•ï¼ˆçœŸå®å°ç¨‹åºï¼‰
```bash
# 1. åœ¨çœŸå®è®¾å¤‡ä¸Šå®‰è£…æœ€æ–°ç‰ˆæœ¬
# 2. æ‰§è¡Œåœºæ™¯ Aï¼ˆæ–°ç”¨æˆ·é¦–è¿›ï¼‰
# 3. æ‰§è¡Œåœºæ™¯ D/Eï¼ˆDay 3/7 é‡Œç¨‹ç¢‘ï¼‰
# 4. æ‰§è¡Œåœºæ™¯ Fï¼ˆæ¢å¤æµç¨‹ï¼‰
# 5. è§‚å¯Ÿå®é™…ç½‘ç»œå»¶è¿Ÿä¸‹çš„è¡¨ç°
```

---

## å·²çŸ¥é—®é¢˜ & ä¿®å¤æ¸…å•

### âœ… å·²ä¿®å¤
- [x] getStats è¿”å›åŸå§‹æ•°æ® â†’ æ”¹ä¸ºç»“è®º (weeklyRate/bestHabit/improved/advice)
- [x] Stats é¡µæ˜¾ç¤ºè¶‹åŠ¿è¡¨æ ¼ â†’ æ”¹ä¸ºå¤§æ ‡é¢˜ç»“è®ºä¼˜å…ˆ
- [x] å‰ç«¯è‡ªå·±è®¡ç®—å®Œæˆç‡ â†’ åç«¯ getTodayHabits ç›´æ¥è¿”å› progress
- [x] logHabit ä¸è¿”å› streak â†’ ç°åœ¨è¿”å› streak + feedbackTier
- [x] éä¼šå‘˜å¯åˆ›å»ºé«˜é¢‘ç‡ä¹ æƒ¯ â†’ createHabit å¼ºåˆ¶é™çº§ targetTimes=1
- [x] first-checkin ç»„ä»¶è·¯å¾„é”™è¯¯ â†’ æ”¹ä¸º ../../../components/feedback-modal/index

### âš ï¸ å¾…ç¡®è®¤
- [ ] Canvas 2D åœ¨æŸäº›ä½ç«¯æœºå‹çš„æ”¯æŒåº¦ï¼ˆç›®å‰æœ‰é™çº§æ–¹æ¡ˆï¼‰
- [ ] ç½‘ç»œæå·®æƒ…å†µä¸‹çš„ logHabit é‡è¯•æœºåˆ¶ï¼ˆå½“å‰å¼‚æ­¥ï¼Œæ— ä¸»åŠ¨é‡è¯•ï¼‰
- [ ] äº‘å‡½æ•°è¶…æ—¶ï¼ˆ12s é™åˆ¶ï¼‰å¯¹é•¿ä¸² calculateStreak çš„å½±å“

---

## æˆåŠŸæ ‡å‡† ğŸ¯
å®Œæˆä»¥ä¸Š 8 ä¸ªåœºæ™¯çš„æµ‹è¯•åï¼Œå¯è®¤ä¸º Day 7 å®Œæˆï¼š
- âœ… åœºæ™¯ Aï¼šæ–°ç”¨æˆ·å®Œæ•´é¦–è¿› â†’ æ ¸å¿ƒé“¾è·¯å¯ç”¨
- âœ… åœºæ™¯ B/Cï¼šç½‘ç»œå’Œé‡å¤ â†’ å®¹é”™å¥å£®
- âœ… åœºæ™¯ D/Eï¼šDay 3/7 é‡Œç¨‹ç¢‘ â†’ æ¿€åŠ±æœºåˆ¶å·¥ä½œ
- âœ… åœºæ™¯ Fï¼šæ¢å¤æµç¨‹ â†’ é˜²æµå¤±æœ‰æ•ˆ
- âœ… åœºæ™¯ Gï¼šç¼“å­˜é¢„åŠ è½½ â†’ æ€§èƒ½ä¼˜åŒ–ç”Ÿæ•ˆ
- âœ… åœºæ™¯ Hï¼šå¤šä¹ æƒ¯ â†’ å¤æ‚åœºæ™¯è¦†ç›–
- âœ… æ£€æŸ¥æ¸…å•ï¼šæ¶æ„å±‚é¢æ»¡è¶³éœ€æ±‚

**æ•´ä¸ª 7 å¤©æ”¹é€ å‘¨æœŸ** åˆ°æ­¤å®Œæˆï¼
