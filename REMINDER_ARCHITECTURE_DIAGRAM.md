# æ¯æ—¥æé†’åŠŸèƒ½ - æ¶æ„æµç¨‹å›¾

## æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å±‚ (User Layer)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   é¦–é¡µ       â”‚    â”‚  è®¾ç½®é¡µé¢    â”‚    â”‚  å¾®ä¿¡é€šçŸ¥    â”‚     â”‚
â”‚  â”‚   Home       â”‚â”€â”€â”€â–¶â”‚  Settings    â”‚    â”‚  WeChat      â”‚     â”‚
â”‚  â”‚              â”‚    â”‚              â”‚    â”‚  Message     â”‚     â”‚
â”‚  â”‚   [âš™ï¸]       â”‚    â”‚  [å¼€å…³]      â”‚    â”‚  [ğŸ“±]       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                   â”‚                    â–²              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                   â”‚                    â”‚
          â”‚                   â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚              å‰ç«¯å±‚ (Frontend)         â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚                   â”‚                    â”‚              â”‚
â”‚         â–¼                   â–¼                    â”‚              â”‚
â”‚   app.globalData      localStorage          è®¢é˜…æˆæƒ           â”‚
â”‚   (ä¼šå‘˜çŠ¶æ€)          (æé†’è®¾ç½®)          wx.requestSubscribe  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ äº‘è°ƒç”¨
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        äº‘å‡½æ•°å±‚ (Cloud Functions)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ updateUserSettingsâ”‚          â”‚   sendReminder   â”‚            â”‚
â”‚  â”‚                  â”‚          â”‚                  â”‚            â”‚
â”‚  â”‚  â€¢ æ›´æ–°è®¾ç½®      â”‚          â”‚  â€¢ å®šæ—¶è§¦å‘      â”‚            â”‚
â”‚  â”‚  â€¢ ä¿å­˜æ—¶é—´      â”‚          â”‚  â€¢ æŸ¥è¯¢ç”¨æˆ·      â”‚            â”‚
â”‚  â”‚  â€¢ è®°å½•è®¢é˜…æ—¶é—´  â”‚          â”‚  â€¢ åŒ¹é…æ—¶é—´      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â”‚                              â”‚                       â”‚
â”‚           â”‚                              â”‚                       â”‚
â”‚           â–¼                              â–¼                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚          äº‘æ•°æ®åº“ (Database)                   â”‚             â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚   â”‚                                                â”‚             â”‚
â”‚   â”‚  users:                                        â”‚             â”‚
â”‚   â”‚    â€¢ reminder_settings                         â”‚             â”‚
â”‚   â”‚      - enabled: Boolean                        â”‚             â”‚
â”‚   â”‚      - time1: String                           â”‚             â”‚
â”‚   â”‚      - time2: String                           â”‚             â”‚
â”‚   â”‚    â€¢ last_subscribe_time                       â”‚             â”‚
â”‚   â”‚                                                â”‚             â”‚
â”‚   â”‚  habits:                                       â”‚             â”‚
â”‚   â”‚    â€¢ name, trigger, status                     â”‚             â”‚
â”‚   â”‚                                                â”‚             â”‚
â”‚   â”‚  habit_logs:                                   â”‚             â”‚
â”‚   â”‚    â€¢ log_date, habit_id                        â”‚             â”‚
â”‚   â”‚                                                â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ å¾®ä¿¡API
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¾®ä¿¡å¼€æ”¾å¹³å° (WeChat Platform)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚    è®¢é˜…æ¶ˆæ¯æœåŠ¡ (Subscription Message)                            â”‚
â”‚    â€¢ æ¨¡æ¿ç®¡ç†                                                     â”‚
â”‚    â€¢ æ¶ˆæ¯å‘é€                                                     â”‚
â”‚    â€¢ æƒé™ç®¡ç†                                                     â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç”¨æˆ·å¼€å¯æé†’æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æ‰“å¼€â”‚
â”‚ é¦–é¡µ    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç‚¹å‡»âš™ï¸è®¾ç½®  â”‚
â”‚ æŒ‰é’®        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿›å…¥è®¾ç½®é¡µé¢    â”‚
â”‚ settings.wxml   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ‰“å¼€æé†’å¼€å…³     â”‚
â”‚ toggleReminder() â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯·æ±‚è®¢é˜…æ¶ˆæ¯æƒé™           â”‚
â”‚ wx.requestSubscribeMessageâ”‚
â”‚   tmplIds: [æ¨¡æ¿ID...]     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚      â”‚          â”‚
     â–¼      â–¼          â–¼
  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚å…è®¸â”‚ â”‚æ‹’ç»â”‚   â”‚ç¨åå†è¯´â”‚
  â””â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚      â”‚          â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚                      â”‚
    â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ä¿å­˜è®¾ç½®   â”‚        â”‚æ˜¾ç¤ºæç¤º  â”‚
â”‚enabled:trueâ”‚        â”‚è¯·æˆæƒ    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŒæ­¥åˆ°äº‘ç«¯      â”‚
â”‚ updateUserSettingsâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°usersé›†åˆ   â”‚
â”‚ reminder_settingsâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ˜¾ç¤ºè®¢é˜…çŠ¶æ€    â”‚
â”‚ âœ… å·²è®¢é˜…      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å®šæ—¶æé†’å‘é€æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®šæ—¶è§¦å‘å™¨       â”‚
â”‚ Cron: 0 0 8 * * *â”‚  (æ¯å¤©8:00)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ sendReminder äº‘å‡½æ•° â”‚
â”‚ å¼€å§‹æ‰§è¡Œ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥è¯¢æ•°æ®åº“                   â”‚
â”‚ WHERE reminder_settings.     â”‚
â”‚       enabled = true         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éå†æ¯ä¸ªç”¨æˆ·                 â”‚
â”‚ for (user of users)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥æ—¶é—´æ˜¯å¦åŒ¹é…             â”‚
â”‚ isTimeMatch(current, time1)  â”‚
â”‚ OR isTimeMatch(current, time2)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚          â”‚
    â–¼          â–¼
  åŒ¹é…       ä¸åŒ¹é…
    â”‚          â”‚
    â”‚          â””â”€â”€â–¶ è·³è¿‡æ­¤ç”¨æˆ·
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è·å–ä»Šæ—¥ä¹ æƒ¯ç»Ÿè®¡             â”‚
â”‚ getTodayHabitStats(openid)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»Ÿè®¡:                        â”‚
â”‚ â€¢ total: æ€»ä¹ æƒ¯æ•°            â”‚
â”‚ â€¢ completed: å·²å®Œæˆæ•°        â”‚
â”‚ â€¢ remaining: æœªå®Œæˆæ•°        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚          â”‚
    â–¼          â–¼
remaining > 0  remaining = 0
    â”‚          â”‚
    â”‚          â””â”€â”€â–¶ è·³è¿‡æˆ–å‘é€åº†ç¥æ¶ˆæ¯
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ„å»ºæ¶ˆæ¯å†…å®¹                 â”‚
â”‚ messageData = {              â”‚
â”‚   thing1: "ä»Šæ—¥å¾…å®Œæˆ: 3ä¸ª" â”‚
â”‚   thing2: "å·²å®Œæˆ: 1/3"     â”‚
â”‚   date3: "2025-12-29 08:00" â”‚
â”‚   thing4: "è¿˜æœ‰ä¹ æƒ¯æœªå®Œæˆ"  â”‚
â”‚ }                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è°ƒç”¨å¾®ä¿¡è®¢é˜…æ¶ˆæ¯API          â”‚
â”‚ cloud.openapi.               â”‚
â”‚   subscribeMessage.send()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚          â”‚
    â–¼          â–¼
  æˆåŠŸ       å¤±è´¥
    â”‚          â”‚
    â”‚          â””â”€â”€â–¶ è®°å½•é”™è¯¯æ—¥å¿—
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æ”¶åˆ°å¾®ä¿¡æœåŠ¡é€šçŸ¥         â”‚
â”‚ ğŸ“± ã€å¾®ä¹ æƒ¯å®éªŒå®¤ã€‘          â”‚
â”‚    è¯¥æ‰“å¡å•¦ï¼                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·ç‚¹å‡»é€šçŸ¥                 â”‚
â”‚ è·³è½¬åˆ° pages/home/home       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ—¶é—´åŒ¹é…ç®—æ³•

```
ç”¨æˆ·è®¾ç½®: time1 = "08:00", time2 = "20:00"
å½“å‰æ—¶é—´: current = "08:03"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ isTimeMatch(current, target) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§£ææ—¶é—´å­—ç¬¦ä¸²               â”‚
â”‚ current: 08:03 â†’ 483åˆ†é’Ÿ     â”‚
â”‚ target:  08:00 â†’ 480åˆ†é’Ÿ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¡ç®—å·®å€¼                     â”‚
â”‚ diff = |483 - 480| = 3åˆ†é’Ÿ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ¤æ–­æ˜¯å¦åœ¨è¯¯å·®èŒƒå›´å†…         â”‚
â”‚ diff <= 5 ?                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚          â”‚
    â–¼          â–¼
  æ˜¯(3â‰¤5)    å¦
    â”‚          â”‚
    â–¼          â–¼
  åŒ¹é…       ä¸åŒ¹é…
```

## æ•°æ®æµå‘å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æ“ä½œ   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. æ‰“å¼€æé†’
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯: settings.jsâ”‚
â”‚ â€¢ æœ¬åœ°å­˜å‚¨       â”‚
â”‚ â€¢ çŠ¶æ€ç®¡ç†       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. è°ƒç”¨äº‘å‡½æ•°
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº‘å‡½æ•°: updateUserSettingsâ”‚
â”‚ â€¢ æ¥æ”¶ reminder_settings â”‚
â”‚ â€¢ éªŒè¯æ•°æ®               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. å†™å…¥æ•°æ®åº“
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®åº“: users    â”‚
â”‚ {                â”‚
â”‚   reminder_settings: {â”‚
â”‚     enabled: true,    â”‚
â”‚     time1: "08:00",   â”‚
â”‚     time2: "20:00"    â”‚
â”‚   }              â”‚
â”‚ }                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. å®šæ—¶è¯»å–
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº‘å‡½æ•°: sendReminderâ”‚
â”‚ â€¢ å®šæ—¶è§¦å‘       â”‚
â”‚ â€¢ æŸ¥è¯¢æ•°æ®åº“     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. è°ƒç”¨å¾®ä¿¡API
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¾®ä¿¡è®¢é˜…æ¶ˆæ¯æœåŠ¡ â”‚
â”‚ â€¢ å‘é€é€šçŸ¥       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 6. æ¨é€æ¶ˆæ¯
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æ‰‹æœº       â”‚
â”‚ ğŸ“± æ”¶åˆ°é€šçŸ¥      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## çŠ¶æ€è½¬æ¢å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœªå¼€å¯æé†’  â”‚ â—€â”€â”
â”‚ enabled:falseâ”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
       â”‚          â”‚
       â”‚ ç”¨æˆ·æ‰“å¼€å¼€å…³â”‚
       â”‚          â”‚
       â–¼          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ è¯·æ±‚æˆæƒ    â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
       â”‚          â”‚
  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”     â”‚
  â”‚    â”‚    â”‚     â”‚
  â–¼    â–¼    â–¼     â”‚
å…è®¸ æ‹’ç» ç¨å     â”‚
  â”‚    â”‚    â”‚     â”‚
  â”‚    â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·²æˆæƒ      â”‚
â”‚ enabled:trueâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ åˆ°è¾¾æé†’æ—¶é—´
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é€æ¶ˆæ¯    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
  â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
  â”‚    â”‚    â”‚
  â–¼    â–¼    â–¼
æˆåŠŸ å¤±è´¥ æ— ä¹ æƒ¯
  â”‚    â”‚    â”‚
  â”‚    â”‚    â”‚
  â–¼    â–¼    â–¼
ç”¨æˆ·  è®°å½•  è·³è¿‡
æ”¶åˆ°  æ—¥å¿—
```

## ç³»ç»Ÿäº¤äº’æ—¶åºå›¾

```
ç”¨æˆ·    è®¾ç½®é¡µé¢  updateUserSettings  æ•°æ®åº“  sendReminder  å¾®ä¿¡API  ç”¨æˆ·æ‰‹æœº
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚ æ‰“å¼€è®¾ç½®â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚ å¼€å¯æé†’â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚ è¯·æ±‚æˆæƒ     â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚ ç‚¹å‡»å…è®¸â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚ è°ƒç”¨äº‘å‡½æ•°   â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚ æ›´æ–°è®°å½•    â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚  è¿”å›æˆåŠŸ   â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚  è¿”å›ç»“æœ    â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚  æ˜¾ç¤ºæˆåŠŸâ”‚             â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚     (æ—¶é—´æµé€... åˆ°è¾¾08:00)           â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚  å®šæ—¶è§¦å‘â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚  æŸ¥è¯¢ç”¨æˆ·â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚  ç”¨æˆ·åˆ—è¡¨â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚ å‘é€æ¶ˆæ¯ â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚   æ¨é€   â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚  ç”¨æˆ·çœ‹åˆ°â”‚
 â”‚        â”‚              â”‚             â”‚          â”‚          â”‚        â”‚
```

## é…ç½®ä¾èµ–å…³ç³»å›¾

```
                    å¾®ä¿¡å…¬ä¼—å¹³å°
                         â”‚
                         â”‚ 1. åˆ›å»ºæ¨¡æ¿
                         â”‚
                         â–¼
                    è·å–æ¨¡æ¿ID
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                           â”‚
           â–¼                           â–¼
    settings.js                 sendReminder/index.js
    (å‰ç«¯è®¢é˜…æˆæƒ)               (åç«¯å‘é€æ¶ˆæ¯)
           â”‚                           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                    ä»£ç éƒ¨ç½²å®Œæˆ
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                           â”‚
           â–¼                           â–¼
    updateUserSettings          sendReminder
    (ä¸Šä¼ å¹¶éƒ¨ç½²)                (ä¸Šä¼ å¹¶éƒ¨ç½²)
           â”‚                           â”‚
           â”‚                           â–¼
           â”‚                    é…ç½®å®šæ—¶è§¦å‘å™¨
           â”‚                    (Cronè¡¨è¾¾å¼)
           â”‚                           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                    çœŸæœºæµ‹è¯•
                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚             â”‚             â”‚
           â–¼             â–¼             â–¼
      æµ‹è¯•æˆæƒ      æµ‹è¯•å‘é€      æµ‹è¯•æ¥æ”¶
           â”‚             â”‚             â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                    æ­£å¼ä¸Šçº¿
```

---

**è¯´æ˜**: ä»¥ä¸Šæµç¨‹å›¾ä½¿ç”¨ASCIIå­—ç¬¦ç»˜åˆ¶,å»ºè®®é…åˆ REMINDER_DEPLOYMENT_GUIDE.md å’Œ REMINDER_FEATURE_SUMMARY.md ä¸€èµ·é˜…è¯»ã€‚
